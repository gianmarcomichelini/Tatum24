{% extends 'base.html' %}
{% block title %}Top Rated Snippets{% endblock %}

{% block content %}
<div class="container-lg py-4">
    <header class="mb-4 text-center">
        <h1 class="h3 fw-semibold text-primary">Top Rated Snippets</h1>
        <h2 class="h6 fw-normal text-secondary">
            Results are determined by the difference between snippets' likes and dislikes,<br>starting from the youngest.
        </h2>
    </header>

    {% if top_snippets %}
        <div class="table-responsive">
            <table class="table table-bordered table-hover align-middle mb-4">
                <thead class="table-light">
                    <tr>
                        <th scope="col">Title</th>
                        <th scope="col">Author</th>
                        <th scope="col">Result</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in top_snippets %}
                        {% if item.popularity_score > 0 %}
                        <tr>
                            <td>{{ item.snippet.title }}</td>
                            <td>{{ item.snippet.author }}</td>
                            <td>{{ item.popularity_score }}</td>
                        </tr>
                        {% endif %}
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <div class="text-center text-muted py-4">
            <i class="bi bi-info-circle me-1"></i> No snippets found.
        </div>
    {% endif %}

    <footer class="mt-4 d-flex justify-content-center gap-3">
        <a href="{% url 'home' %}" class="btn btn-outline-secondary btn-sm">
            <i class="bi bi-house-door"></i> Back to Home
        </a>
        <a href="{% url 'snippet_list' %}" class="btn btn-outline-primary btn-sm">Back to Snippets</a>
    </footer>
</div>
{% endblock %}